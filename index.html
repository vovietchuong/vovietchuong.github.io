<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>MathHub - Trang chủ</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

    <!-- Firebase Compat SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-analytics-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>

    <style>
        /* Giữ nguyên style đã viết ở phiên bản trước */
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Verdana,sans-serif;}
        body{background:linear-gradient(135deg,#4e73df 0%,#2e59d9 100%);color:#333;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:20px;}
        .header{text-align:center;margin-bottom:30px;color:white;width:100%;position:relative;}
        .header h1{font-size:2.5rem;margin-bottom:10px;}
        .header p{font-size:1.2rem;opacity:0.9;}
        .user-controls{position:absolute;top:0;right:0;display:flex;align-items:center;gap:10px;}
        .user-info{display:flex;align-items:center;color:white;gap:10px;}
        .user-avatar{width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,0.2);display:flex;align-items:center;justify-content:center;overflow:hidden;}
        .user-avatar img{width:100%;height:100%;object-fit:cover;}
        .auth-btn{padding:8px 14px;background:rgba(255,255,255,0.2);color:white;border:none;border-radius:20px;cursor:pointer;font-weight:600;}
        .auth-btn:hover{background:rgba(255,255,255,0.3);}
        .section-title{color:white;margin:30px 0 15px;text-align:center;font-size:1.8rem;max-width:1000px;}
        .section-divider{width:100%;max-width:1000px;height:2px;background:rgba(255,255,255,0.3);margin:10px 0 30px;}
        .container{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;width:100%;max-width:1000px;}
        .game-card{background:white;border-radius:15px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,0.1);display:flex;flex-direction:column;position:relative;transition:all .3s;}
        .game-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,0,0,0.2);}
        .game-card-img{height:180px;display:flex;align-items:center;justify-content:center;font-size:3rem;color:white;}
        .game-card-content{padding:20px;flex-grow:1;display:flex;flex-direction:column;gap:12px;}
        .game-card h3{color:#2e59d9;}
        .game-card p{color:#666;flex-grow:1;}
        .game-actions{display:flex;gap:8px;flex-wrap:wrap;}
        .game-card-btn{padding:10px;border-radius:6px;font-weight:700;text-decoration:none;text-align:center;cursor:pointer;border:none;}
        .game-card-btn.primary{background:#4e73df;color:white;}
        .game-card-btn.ghost{background:#f0f0f0;color:#333;}
        .game-card-btn.small{padding:8px 10px;font-size:.9rem;}
        .featured-badge,.new-badge,.popular-badge{position:absolute;top:-10px;padding:5px 10px;border-radius:20px;color:white;font-weight:bold;font-size:.8rem;z-index:10;}
        .featured-badge{background:#ff6b6b;right:-10px;}
        .new-badge{background:#36b9cc;left:-10px;}
        .popular-badge{background:#f6c23e;right:-10px;}
        .footer{margin-top:40px;color:white;text-align:center;padding:20px;}
        .toast{position:fixed;bottom:20px;right:20px;background:#333;color:white;padding:16px;border-radius:4px;opacity:0;transition:opacity .3s;}
        .toast.show{opacity:1;}
        .toast.success{background:#1cc88a;}
        .toast.error{background:#e74a3b;}
        .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:1000;align-items:center;justify-content:center;}
        .modal-content{background:white;border-radius:15px;width:90%;max-width:480px;padding:24px;position:relative;}
        .close-modal{position:absolute;top:12px;right:12px;font-size:1.3rem;cursor:pointer;}
    </style>
</head>
<body>
    <!-- (Modal đăng nhập, Modal hồ sơ, Modal BXH giữ nguyên từ bản trước) -->

    <div class="header">
        <h1><i class="fas fa-calculator"></i> MathHub</h1>
        <p>Trang web giáo dục toán học - vừa CHƠI vừa HỌC - HỌC qua TRÒ CHƠI</p>

        <div class="user-controls">
            <div class="user-info" id="user-info" style="display:none;">
                <div class="user-avatar" id="header-avatar"><i class="fas fa-user"></i></div>
                <span id="user-name">Người dùng</span>
                <button class="auth-btn" id="profile-btn">Hồ sơ</button>
                <button class="auth-btn" id="logout-btn">Đăng xuất</button>
            </div>
            <button class="auth-btn" id="login-btn">Đăng nhập / Đăng ký</button>
        </div>
    </div>

    <h2 class="section-title">Trò chơi hiện có</h2>
    <div class="section-divider"></div>

    <div class="container">
        <!-- 1. Game Cộng trừ trong phạm vi 10 -->
        <div class="game-card featured">
            <div class="featured-badge">Nổi bật</div>
            <div class="game-card-img" style="background:#ff6b6b;"><i class="fas fa-child"></i></div>
            <div class="game-card-content">
                <h3>Cộng trừ trong phạm vi 10</h3>
                <p>Luyện tập cộng trừ cơ bản dành cho học sinh lớp 1.</p>
                <div class="game-actions">
                    <a href="congtrutrongphamvi10.html" class="game-card-btn primary">Chơi ngay</a>
                    <button class="game-card-btn ghost small" onclick="authSystem.loadLeaderboard('congtrutrongphamvi10')">Xem BXH</button>
                </div>
            </div>
        </div>

        <!-- 2. Game Bắn Bóng Số -->
        <div class="game-card">
            <div class="new-badge">Mới</div>
            <div class="game-card-img" style="background:linear-gradient(145deg,#ff6b6b,#e55656);"><i class="fas fa-bullseye"></i></div>
            <div class="game-card-content">
                <h3>Bắn Bóng Số</h3>
                <p>Game toán lớp 2 thú vị. Bắn các bóng bay chứa phép tính bằng cách nhập kết quả chính xác.</p>
                <div class="game-actions">
                    <a href="banbongsotoan2.html" class="game-card-btn primary">Chơi ngay</a>
                    <button class="game-card-btn ghost small" onclick="authSystem.loadLeaderboard('banbongsotoan2')">Xem BXH</button>
                </div>
            </div>
        </div>

        <!-- 3. Game Bảng cửu chương -->
        <div class="game-card">
            <div class="game-card-img" style="background:linear-gradient(145deg,#8e2de2,#4a00e0);"><i class="fas fa-times-circle"></i></div>
            <div class="game-card-content">
                <h3>Bảng cửu chương</h3>
                <p>Học thuộc bảng cửu chương từ 2 đến 10 một cách dễ dàng và thú vị.</p>
                <div class="game-actions">
                    <a href="bangcuuchuong.html" class="game-card-btn primary">Chơi ngay</a>
                    <button class="game-card-btn ghost small" onclick="authSystem.loadLeaderboard('bangcuuchuong')">Xem BXH</button>
                </div>
            </div>
        </div>

        <!-- 4. Game Cộng trừ có nhớ lớp 2 -->
        <div class="game-card">
            <div class="popular-badge">Phổ biến</div>
            <div class="game-card-img" style="background:#4e73df;"><i class="fas fa-plus-circle"></i></div>
            <div class="game-card-content">
                <h3>Cộng trừ có nhớ lớp 2</h3>
                <p>Rèn luyện kỹ năng cộng trừ có nhớ với nhiều cấp độ từ dễ đến khó.</p>
                <div class="game-actions">
                    <a href="congtruconhotoan2.html" class="game-card-btn primary">Chơi ngay</a>
                    <button class="game-card-btn ghost small" onclick="authSystem.loadLeaderboard('congtruconhotoan2')">Xem BXH</button>
                </div>
            </div>
        </div>

        <!-- 5. Game Cộng trừ số nguyên lớp 6 -->
        <div class="game-card">
            <div class="new-badge">Mới</div>
            <div class="game-card-img" style="background:linear-gradient(145deg,#1cc88a,#0f9d58);"><i class="fas fa-infinity"></i></div>
            <div class="game-card-content">
                <h3>Cộng trừ số nguyên lớp 6</h3>
                <p>Làm chủ phép cộng trừ số nguyên âm và dương với nhiều thử thách thú vị.</p>
                <div class="game-actions">
                    <a href="congtrusonguyen.html" class="game-card-btn primary">Chơi ngay</a>
                    <button class="game-card-btn ghost small" onclick="authSystem.loadLeaderboard('congtrusonguyen')">Xem BXH</button>
                </div>
            </div>
        </div>

        <!-- 6. Game Nhân chia nâng cao lớp 3-4 -->
        <div class="game-card">
            <div class="new-badge">Mới</div>
            <div class="game-card-img" style="background:linear-gradient(145deg,#6f42c1,#4e2a8e);"><i class="fas fa-divide"></i></div>
            <div class="game-card-content">
                <h3>Nhân chia nâng cao lớp 3-4</h3>
                <p>Rèn luyện kỹ năng nhân chia với các số lớn hơn. Nhiều cấp độ từ cơ bản đến nâng cao.</p>
                <div class="game-actions">
                    <a href="nhanchianangcao.html" class="game-card-btn primary">Chơi ngay</a>
                    <button class="game-card-btn ghost small" onclick="authSystem.loadLeaderboard('nhanchianangcao')">Xem BXH</button>
                </div>
            </div>
        </div>

        <!-- 7. Game Đường đua phép tính -->
        <div class="game-card">
            <div class="game-card-img" style="background:linear-gradient(145deg,#1cc88a,#0f9d58);"><i class="fas fa-flag-checkered"></i></div>
            <div class="game-card-content">
                <h3>Đường đua phép tính</h3>
                <p>Giải các phép tính toán học để đưa xe về đích. Rèn luyện kỹ năng tính toán nhanh và chính xác.</p>
                <div class="game-actions">
                    <a href="duongduapheptinh.html" class="game-card-btn primary">Chơi ngay</a>
                    <button class="game-card-btn ghost small" onclick="authSystem.loadLeaderboard('duongduapheptinh')">Xem BXH</button>
                </div>
            </div>
        </div>
    </div>

    <h2 class="section-title">Trò chơi sắp ra mắt</h2>
    <div class="section-divider"></div>
    <!-- Giữ nguyên các game Coming Soon -->

    <div class="footer">
        <p>© 2023 MathHub - Website của thầy Võ Viết Chương - THPT Lê Quảng Chí</p>
        <p>Liên hệ: gnouhcteiv@gmail.com</p>
    </div>

    <div class="toast" id="toast"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="auth-system.js"></script>
</body>
</html>
